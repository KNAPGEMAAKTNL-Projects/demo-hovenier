---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
    title: string;
    category: string;
    image: ImageMetadata;
    link: string;
    tags?: string[];
}

const { title, category, image, link, tags = [] } = Astro.props;
---

<a
    href={link}
    class="group block relative overflow-hidden bg-dark aspect-[4/3] md:aspect-[16/10] isolate"
>
    {/* Image with Zoom Effect */}
    <Image
        src={image}
        alt={`Project: ${title} - Hoveniersbedrijf De Oude Stad`}
        class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105"
        widths={[480, 768, 1024]}
        sizes="(max-width: 768px) 100vw, 50vw"
        loading="lazy"
        decoding="async"
    />

    {/* Gradient Overlay */}
    <div
        class="absolute inset-x-0 bottom-0 h-3/4 bg-gradient-to-t from-dark/90 via-dark/40 to-transparent opacity-70 group-hover:opacity-95 transition-opacity duration-300"
    >
    </div>

    {/* Content Layer */}
    <div class="absolute inset-0 p-6 md:p-8 flex flex-col justify-end text-cream z-10">
        <div
            class="transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300"
        >
            <span
                class="text-accent text-xs tracking-[0.2em] uppercase font-medium mb-3 block"
            >
                {category}
            </span>

            <h3 class="font-serif text-2xl md:text-3xl mb-3">
                {title}
            </h3>

            {/* Tags */}
            <div
                class="flex flex-wrap gap-2 mb-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"
            >
                {
                    tags.map((tag) => (
                        <span class="text-xs text-cream/70 border border-cream/20 px-2.5 py-1">
                            {tag}
                        </span>
                    ))
                }
            </div>

            <div
                class="flex items-center text-sm tracking-wide uppercase font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-200 text-accent"
            >
                Bekijk Project
                <span class="ml-2 inline-block transition-transform duration-300 group-hover:translate-x-2">&rarr;</span>
            </div>
        </div>
    </div>
</a>
